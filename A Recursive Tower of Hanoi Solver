#include <stdio.h>


void towerOfHanoi(int n, char source, char destination, char auxiliary) {
    if (n == 1) {
       
        printf("Move disk 1 from peg %c to peg %c\n", source, destination);
        return;
    }
    
    
    towerOfHanoi(n - 1, source, auxiliary, destination);
    

    printf("Move disk %d from peg %c to peg %c\n", n, source, destination);
    
  
    towerOfHanoi(n - 1, auxiliary, destination, source);
}

int main() {
    int n; // Number of disks

    printf("--- Tower of Hanoi Solver ---\n");
    printf("Enter the number of disks (e.g., 3, 4, or 5): ");

    if (scanf("%d", &n) != 1 || n <= 0) {
        printf("Invalid input. Please enter a positive integer.\n");
        return 1;
    }

    if (n > 10) {
        printf("Warning: The number of moves for %d disks is %d (2^n - 1), which is very large.\n", n, (1 << n) - 1);
        printf("Running with %d disks...\n\n", n);
    } else {
        printf("The optimal sequence of moves for %d disks is:\n", n);
    }
    
   
    towerOfHanoi(n, 'A', 'C', 'B');

    printf("\nTower of Hanoi solved successfully in %d steps.\n", (1 << n) - 1);
    
    return 0;
}
